<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/synth/blog/rss.xml" title="Synth - Documentation Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/synth/blog/atom.xml" title="Synth - Documentation Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Synth - Documentation" href="/synth/opensearch.xml">
<script defer="defer" src="https://cdn.usefathom.com/script.js" spa="auto" site="ASXTKXUJ"></script><title data-react-helmet="true">Posts tagged &quot;orm&quot; | Synth - Blog</title><meta data-react-helmet="true" property="og:title" content="Posts tagged &quot;orm&quot; | Synth - Blog"><meta data-react-helmet="true" name="description" content="Blog | Tagged &quot;orm&quot;"><meta data-react-helmet="true" property="og:description" content="Blog | Tagged &quot;orm&quot;"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="default"><meta data-react-helmet="true" property="og:image" content="https://storage.googleapis.com/getsynth-public/media/orm_small.jpg"><meta data-react-helmet="true" name="twitter:image" content="https://storage.googleapis.com/getsynth-public/media/orm_small.jpg"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for Seeding test databases in 2021 - best practices"><link data-react-helmet="true" rel="shortcut icon" href="/synth/img/getsynth_favicon.png"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/synth/styles.126caade.css">
<link rel="preload" href="/synth/styles.757b73be.js" as="script">
<link rel="preload" href="/synth/runtime~main.b7cf6161.js" as="script">
<link rel="preload" href="/synth/main.7611f22a.js" as="script">
<link rel="preload" href="/synth/1.3bd11b34.js" as="script">
<link rel="preload" href="/synth/2.26018857.js" as="script">
<link rel="preload" href="/synth/3.64a93aa7.js" as="script">
<link rel="preload" href="/synth/01a85c17.057161ab.js" as="script">
<link rel="preload" href="/synth/71.5f3e08c3.js" as="script">
<link rel="preload" href="/synth/6875c492.d1024bee.js" as="script">
<link rel="preload" href="/synth/a6aa9e1f.91051dea.js" as="script">
<link rel="preload" href="/synth/b4f94a6c.58d22c3c.js" as="script">
<link rel="preload" href="/synth/ccc49370.7e7f58ec.js" as="script">
<link rel="preload" href="/synth/5992cf76.87098209.js" as="script">
<link rel="preload" href="/synth/b31acb9c.542cb80f.js" as="script">
<link rel="preload" href="/synth/3746ec97.7842893a.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a href="https://getsynth.com" target="_self" rel="noopener noreferrer" class="navbar__brand"><img src="/synth/img/getsynth_identicon.png" alt="Synth" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/synth/img/getsynth_identicon.png" alt="Synth" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Synth</strong></a><a class="navbar__item navbar__link" href="/synth/getting_started/synth">Getting Started</a><a class="navbar__item navbar__link" href="/synth/examples/bank">Examples</a><a class="navbar__item navbar__link" href="/synth/content/null">Generators</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/synth/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/getsynth/synth" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a href="https://getsynth.com" target="_self" rel="noopener noreferrer" class="navbar__brand"><img src="/synth/img/getsynth_identicon.png" alt="Synth" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/synth/img/getsynth_identicon.png" alt="Synth" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Synth</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/synth/getting_started/synth">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" href="/synth/examples/bank">Examples</a></li><li class="menu__list-item"><a class="menu__link" href="/synth/content/null">Generators</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/synth/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/getsynth/synth" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper blog-wrapper"><div class="container margin-vert--lg"><div class="row"><div class="col col--2"><div class="sidebar_SWld thin-scrollbar"><h3 class="sidebarItemTitle_Km2m">Recent posts</h3><ul class="sidebarItemList_3UpA"><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/synth/blog/2021/09/07/mocking-a-production-api">So you want to mock an API</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/synth/blog/2021/08/31/seeding-databases-tutorial">Seeding test databases in 2021 - best practices</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/synth/blog/2021/08/09/macro">Complex Procedural Rust Macros</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/synth/blog/2021/08/04/test-data">Why not to use prod data for testing - and what to do instead</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/synth/blog/2021/03/09/postgres-data-gen">How to Create PostgreSQL Test Data</a></li></ul></div></div><main class="col col--8"><h1>1 post tagged with &quot;orm&quot;</h1><a href="/synth/blog/tags">View All Tags</a><div class="margin-vert--xl"><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_3-lP"><a href="/synth/blog/2021/08/31/seeding-databases-tutorial">Seeding test databases in 2021 - best practices</a></h2><div class="margin-vert--md"><time datetime="2021-08-31T00:00:00.000Z" class="blogPostDate_Ta7i">August 31, 2021  Â· 19 min read</time></div><div class="avatar margin-vert--md"><a class="avatar__photo-link avatar__photo" href="https://github.com/brokad/" target="_blank" rel="noreferrer noopener"><img src="https://avatars.githubusercontent.com/u/13315034?v=4" alt="Damien B. (@brokad)"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/brokad/" target="_blank" rel="noreferrer noopener">Damien B. (@brokad)</a></h4><small class="avatar__subtitle"></small></div></div></header><section class="markdown"><p><img alt="Seeding test databases in 2021 - best practices" src="/synth/assets/images/orm_small-ca76e5e1676897ee856e07ea2e876d43.jpg"></p><p>In this tutorial, we&#x27;ll learn how to design
the <a href="https://www.prisma.io/docs/concepts/components/prisma-schema" target="_blank" rel="noopener noreferrer">Prisma data model</a> for a basic message board and how to seed
databases with the open-source tool <a href="https://github.com/getsynth/synth" target="_blank" rel="noopener noreferrer"><code>synth</code></a> and generate mock data to
test our code.</p><p>The code for the example we are working with here can be accessed in
the <a href="https://github.com/getsynth/synth/tree/master/examples/message_board" target="_blank" rel="noopener noreferrer">examples repository on GitHub</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="data-modeling-is-not-boring"></a>Data modeling is not boring<a class="hash-link" href="#data-modeling-is-not-boring" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="what-is-a-data-model"></a>What is a data model?<a class="hash-link" href="#what-is-a-data-model" title="Direct link to heading">#</a></h3><p>Data modeling (in the context of databases and this tutorial) refers to the
practice of formalizing a collection of entities, their properties and relations
between one another. It is an almost mathematical process (borrowing a lot of
language from <a href="https://en.wikipedia.org/wiki/Set_theory" target="_blank" rel="noopener noreferrer">set theory</a>) but that should not scare you. When it
comes down to it, it is exceedingly simple and quickly becomes more of an art
than a science.</p><p>The crux of the problem of data modeling is to summarize and write down what
constitutes useful entities and how they relate to one another in a graph of
connections.</p><p>You may wonder what constitutes a <em>useful</em> entity. It is indeed the toughest
question to answer. It is very difficult to tackle it without a good combined
idea of what you are building, the database you are building on top of and what
the most common queries, operations and aggregate statistics are. There
are <a href="https://www.prisma.io/dataguide/" target="_blank" rel="noopener noreferrer">many resources</a> out there that will guide you through
answering that question. Here we&#x27;ll start with the beginning: why is it needed?</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="why-do-i-need-a-data-model"></a>Why do I need a data model?<a class="hash-link" href="#why-do-i-need-a-data-model" title="Direct link to heading">#</a></h3><p>Often times, getting the data model of your application right is crucial to its
performance. A bad data model for your backend can mean it gets crippled by
seemingly innocuous tasks. On the other hand, a good grasp on data modeling will
make your life as a developer 1000 times easier. A good data model is not a
source of constant pain, letting you develop and expand without slowing you
down. It just is one of those things that pays out compounding returns.</p><p>Plus, there are nowadays many open-source tools that make building applications
on top of data models really enjoyable. One of them is Prisma.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="prisma-is-awesome"></a>Prisma is awesome<a class="hash-link" href="#prisma-is-awesome" title="Direct link to heading">#</a></h3><p><a href="https://www.prisma.io/" target="_blank" rel="noopener noreferrer">Prisma</a> is an ORM, an <em>object relational mapping</em>. It is a powerful
framework that lets you specify your data model using a database agnostic domain
specific language (called the <a href="https://www.prisma.io/docs/concepts/components/prisma-schema" target="_blank" rel="noopener noreferrer">Prisma schema</a>). It
uses <a href="https://www.prisma.io/docs/concepts/components/prisma-schema/generators" target="_blank" rel="noopener noreferrer">pluggable generators</a> to build a nice javascript API and
<a href="https://www.typescriptlang.org/docs/handbook/typescript-from-scratch.html" target="_blank" rel="noopener noreferrer">typescript</a> bindings for your data model. Hook that up to your IDE
and you get amazing code completion that is tailored to your data model, in
addition to a powerful query engine.</p><p>Let&#x27;s walk through a example. We want to get a sense for what it&#x27;ll take to
design the data model for a simple message board a little like <a href="https://www.reddit.com/" target="_blank" rel="noopener noreferrer">Reddit</a>
or <a href="https://news.ycombinator.com/" target="_blank" rel="noopener noreferrer">YCombinator&#x27;s Hacker News</a>. At the very minimum, we want to
have a concept of <em>users</em>: people should be able to register for an account.
Beyond that, we need a concept of <em>posts</em>: some structure, attached to users,
that holds the content they publish.</p><p>Using the <a href="https://www.prisma.io/docs/concepts/components/prisma-schema" target="_blank" rel="noopener noreferrer">Prisma schema</a> language, which is very expressive even
if you haven&#x27;t seen it before, our first go at writing down a <code>User</code> entity
might look something like this:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-graphql codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">model User </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  objectId  Bytes    </span><span class="token directive function" style="color:rgb(130, 170, 255)">@id</span><span class="token plain"> </span><span class="token directive function" style="color:rgb(130, 170, 255)">@map</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;_id&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  id        Int      </span><span class="token directive function" style="color:rgb(130, 170, 255)">@unique</span><span class="token plain"> </span><span class="token directive function" style="color:rgb(130, 170, 255)">@default</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">autoincrement</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  createdAt DateTime </span><span class="token directive function" style="color:rgb(130, 170, 255)">@default</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">now</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  email     String   </span><span class="token directive function" style="color:rgb(130, 170, 255)">@unique</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  nickname  String</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  posts     Post</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><div class="buttonsBlock_1QLD"><button type="button" aria-label="Copy code to clipboard" class="codeButton_2n6w copyButton_1PCb">Copy</button></div></div></div><p>In other words, our <code>User</code> entity has properties <code>id</code> (a database internal
unique identifier), <code>createdAt</code> (a timestamp, defaulting to now if not
specified, that marks the creation time of the user&#x27;s account), <code>email</code> (the
user-specified email address, given on registration) which is required to be
unique (no two users can share an email address) and <code>nickname</code> (the user
specified display name, given on registration).</p><p>In addition, it has a property <code>posts</code> which links a user with its posts through
the <code>Post</code> entity. We may come up with something like this for the <code>Post</code>
entity:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-graphql codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">model Post </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  objectId  Bytes    </span><span class="token directive function" style="color:rgb(130, 170, 255)">@id</span><span class="token plain"> </span><span class="token directive function" style="color:rgb(130, 170, 255)">@map</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;_id&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  id        Int      </span><span class="token directive function" style="color:rgb(130, 170, 255)">@unique</span><span class="token plain"> </span><span class="token directive function" style="color:rgb(130, 170, 255)">@default</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">autoincrement</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  postedAt  DateTime </span><span class="token directive function" style="color:rgb(130, 170, 255)">@default</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">now</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  title     String</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  author    User     </span><span class="token directive function" style="color:rgb(130, 170, 255)">@relation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token attr-name" style="color:rgb(255, 203, 107)">fields</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">authorId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token attr-name" style="color:rgb(255, 203, 107)">references</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  authorId  Int</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><div class="buttonsBlock_1QLD"><button type="button" aria-label="Copy code to clipboard" class="codeButton_2n6w copyButton_1PCb">Copy</button></div></div></div><p>In other words, our <code>Post</code> entity has properties <code>id</code> (a database internal
unique identifier); <code>postedAt</code> (a timestamp, defaulting to now if not specified,
that marks the time at which the user created the post and published it)
; <code>title</code> (the title of the post); <code>author</code> and <code>authorId</code> which specify a
one-to-many relationship between users and posts.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>You may have noticed that the <code>User</code> and <code>Post</code> models have an attribute which
we haven&#x27;t mentioned. The <code>objectId</code> property is
an <a href="https://docs.mongodb.com/manual/reference/method/ObjectId/" target="_blank" rel="noopener noreferrer">internal unique identifier</a> used by <a href="https://www.mongodb.com/" target="_blank" rel="noopener noreferrer">mongoDB</a>
(the database we&#x27;re choosing to implement our data model on in this tutorial).</p></div></div><p>Let&#x27;s look closer at these last two properties <code>author</code> and <code>authorId</code>. There is
a significant difference between them with respect to how they are implemented
in the database. Remember that, at the end of the day, our data model will need
to be realized into a database. Because we&#x27;re using <a href="https://www.prisma.io/" target="_blank" rel="noopener noreferrer">Prisma</a>, a lot of
these details are abstracted away from us. In this case,
the <a href="https://www.prisma.io/docs/concepts/components/prisma-schema/generators" target="_blank" rel="noopener noreferrer">prisma code-generator</a> will handle <code>author</code> and <code>authorId</code>
slightly differently.</p><p>The <code>@relation(...)</code> attribute on the <code>author</code> property is <a href="https://www.prisma.io/" target="_blank" rel="noopener noreferrer">Prisma</a>&#x27;s
way of declaring that <code>authorId</code> is a <a href="https://en.wikipedia.org/wiki/Foreign_key" target="_blank" rel="noopener noreferrer">foreign key</a> field. Because
the type of the <code>author</code> property is a <code>User</code> entity, <a href="https://www.prisma.io/" target="_blank" rel="noopener noreferrer">Prisma</a>
understands that posts are linked to users via
the <a href="https://en.wikipedia.org/wiki/Foreign_key" target="_blank" rel="noopener noreferrer">foreign key</a> <code>authorId</code> which maps to the user&#x27;s <code>id</code>, the
associated <a href="https://en.wikipedia.org/wiki/Primary_key" target="_blank" rel="noopener noreferrer">primary key</a>. This is an example of
a <a href="https://www.prisma.io/docs/concepts/components/prisma-schema/relations/one-to-one-relations" target="_blank" rel="noopener noreferrer">one-to-many relation</a>.</p><p>How that relation is implemented is left to <a href="https://www.prisma.io/" target="_blank" rel="noopener noreferrer">Prisma</a> and depends on the
database you choose to use. Since we are using <a href="https://www.mongodb.com/" target="_blank" rel="noopener noreferrer">mongodb</a> here, this is
implemented by <a href="https://www.prisma.io/docs/concepts/components/prisma-schema/relations/one-to-many-relations" target="_blank" rel="noopener noreferrer">direct object id references</a>.</p><p>Because our data model encodes the relation between posts and users, looking up
a user&#x27;s posts is inexpensive. This is the benefit of designing a good data
model for an application: operations you have designed and planned for at this
stage, are optimized for.</p><p>To get us started using this <a href="https://www.prisma.io/" target="_blank" rel="noopener noreferrer">Prisma</a> data model in an actual
application, let&#x27;s create a new <code>npm</code> project in an empty directory:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-bash codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> init</span></div></div></div><div class="buttonsBlock_1QLD"><button type="button" aria-label="Copy code to clipboard" class="codeButton_2n6w copyButton_1PCb">Copy</button></div></div></div><p>When prompted to specify the entry point, use <code>src/index.js</code>. Install some nice
typescript bindings for node with:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-bash codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> --save-dev @types/node typescript</span></div></div></div><div class="buttonsBlock_1QLD"><button type="button" aria-label="Copy code to clipboard" class="codeButton_2n6w copyButton_1PCb">Copy</button></div></div></div><p>Then you can initialize the typescript compiler with</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-bash codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ npx tsc --init</span></div></div></div><div class="buttonsBlock_1QLD"><button type="button" aria-label="Copy code to clipboard" class="codeButton_2n6w copyButton_1PCb">Copy</button></div></div></div><p>This creates a <code>tsconfig.json</code> file which configures the behavior of the
typescript compiler. Create a directory <code>src/</code> and add the following <code>index.ts</code>:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-javascript codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports maybe-class-name">PrismaClient</span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@prisma/client&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> prisma </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">PrismaClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">main</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">async</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> user </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="font-style:italic">await</span><span class="token plain"> prisma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">user</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">findFirst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">user </span><span class="token operator" style="color:rgb(137, 221, 255)">===</span><span class="token plain"> </span><span class="token keyword null nil" style="font-style:italic">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword control-flow" style="font-style:italic">throw</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Error</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;No user data.&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">found username: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">user</span><span class="token template-string interpolation punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token template-string interpolation">nickname</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    process</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">exit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">main</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token keyword control-flow" style="font-style:italic">catch</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">e</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">error</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    process</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">exit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div><div class="buttonsBlock_1QLD"><button type="button" aria-label="Copy code to clipboard" class="codeButton_2n6w copyButton_1PCb">Copy</button></div></div></div><p>Then create a <code>prisma/</code> directory and add a <code>schema.prisma</code> file containing
the Prisma code for the two entities <code>User</code> and <code>Post</code>. </p><p>Finally, to our <code>schema.prisma</code> file, we need to add configuration for our local
dev database and the generation of the client:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-graphql codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">datasource db </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  provider </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token description string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token description string language-markdown" style="color:rgb(195, 232, 141)">mongodb</span><span class="token description string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  url      </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;mongodb://localhost:27017/board&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">generator client </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  provider </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token description string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token description string language-markdown" style="color:rgb(195, 232, 141)">prisma-client-js</span><span class="token description string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  previewFeatures </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;mongodb&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><div class="buttonsBlock_1QLD"><button type="button" aria-label="Copy code to clipboard" class="codeButton_2n6w copyButton_1PCb">Copy</button></div></div></div><p><a href="https://github.com/getsynth/synth/tree/master/examples/message_board/prisma/schema.prisma" target="_blank" rel="noopener noreferrer">Head over to the repository</a>
to see an example of the complete file, including the extra configuration.</p><p>To build the <a href="https://www.prisma.io/docs/concepts/components/prisma-schema/generators" target="_blank" rel="noopener noreferrer">Prisma client</a>, run</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-bash codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ npx prisma generate</span></div></div></div><div class="buttonsBlock_1QLD"><button type="button" aria-label="Copy code to clipboard" class="codeButton_2n6w copyButton_1PCb">Copy</button></div></div></div><p>Finally, to run it all, edit your <code>package.json</code> file (at the root of your
project&#x27;s directory). Look for the <code>&quot;script&quot;</code> field and modify the <code>&quot;test&quot;</code>
script with:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-json codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;test&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;tsc --project ./ &amp;&amp; node .&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ... </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><div class="buttonsBlock_1QLD"><button type="button" aria-label="Copy code to clipboard" class="codeButton_2n6w copyButton_1PCb">Copy</button></div></div></div><p>Now all we need is for an instance of <a href="https://www.mongodb.com/" target="_blank" rel="noopener noreferrer">mongoDB</a> to be running while
we&#x27;re working. We can run that straight from the official docker image:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-bash codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ docker run -d --name message-board-example -p </span><span class="token number" style="color:rgb(247, 140, 108)">27017</span><span class="token plain">:27017 --rm mongo</span></div></div></div><div class="buttonsBlock_1QLD"><button type="button" aria-label="Copy code to clipboard" class="codeButton_2n6w copyButton_1PCb">Copy</button></div></div></div><p>To run the example do</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-bash codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> run </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">test</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> message-board-example@1.0.0 </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">test</span><span class="token plain"> /tmp/message-board-example</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> tsc --project ./ </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> node </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Error: No user data.</span></div></div></div><div class="buttonsBlock_1QLD"><button type="button" aria-label="Copy code to clipboard" class="codeButton_2n6w copyButton_1PCb">Copy</button></div></div></div><p>You should see something close to the output of the snippet: our simple code
failed because it is looking for a user that does not exist (yet) in our dev
database. We will <a href="#generate-data-for-your-data-model">fix that in a little bit</a>
. But first, here&#x27;s a secret.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="the-secret-to-writing-good-code"></a>The secret to writing good code<a class="hash-link" href="#the-secret-to-writing-good-code" title="Direct link to heading">#</a></h2><p>Actually it&#x27;s no secret at all. It is one of those things that everybody with
software engineering experience knows. The key to writing good code is learning
from your mistakes!</p><p>When coding becomes tedious is when it is hard to learn from errors. Usually
this is caused by a lengthy process to go from writing the code to testing it.
This can happen for many reasons: having to wait for the deployment of a backend
in <code>docker compose</code>, sitting idly by while your code compiles just to fail at
the end because of a typo, the strong integration of a system with components
external to it, and many more.</p><p>The process that goes from the early stages of designing something to verifying
its functionalities and rolling it out, that is what is commonly called
the <a href="https://en.wikipedia.org/wiki/Systems_development_life_cycle" target="_blank" rel="noopener noreferrer">development cycle</a>.</p><p>It should indeed be a cycle. Once the code is out there, deployed and running,
it gets reviewed for quality and purpose. More often than not this happens
because users break it and give feedback. The outcome of that gets folded in
planning and designing for the next iteration or release.
The <a href="https://en.wikipedia.org/wiki/Agile_software_development#Iterative,_incremental,_and_evolutionary" target="_blank" rel="noopener noreferrer">agile philosophy</a> is built on the idea that this cycle
should be as short as possible.</p><p>So that brings the question: how do you make the development cycle as quick as
possible? The faster the cycle is, the better your productivity becomes.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="testing-testing-and-more-testing"></a>Testing, testing and more testing<a class="hash-link" href="#testing-testing-and-more-testing" title="Direct link to heading">#</a></h3><p>One of the keys to shortening a development cycle is making testing easy. When
playing with databases and data models, it is something that is often hacky. In
fact there are very few tools that let you iterate quickly on data models, much
less <em>developer-friendly</em> tools.</p><p>The core issue at hand is that between iterations on ideas and features, we will
need to make small and quick changes to our data model. What happens to our
databases and the data in them in that case? Migration is sometimes an option
but is notoriously hard and may not work at all if our changes are significant.</p><p>For development purposes the quickest solution is seeding our new data model
with mock data. That way we can test our changes quickly and idiomatically.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="generate-data-for-your-data-model"></a>Generate data for your data model<a class="hash-link" href="#generate-data-for-your-data-model" title="Direct link to heading">#</a></h2><p>At <a href="https://getsynth.com" target="_blank" rel="noopener noreferrer">Synth</a> we are building a declarative test data generator. It lets
you write your data model in plain <strong>zero-code</strong> <a href="https://www.json.org/json-en.html" target="_blank" rel="noopener noreferrer">JSON</a> and seed many
relational and non-relational databases with mock data. It is
completely <a href="https://github.com/getsynth/synth" target="_blank" rel="noopener noreferrer">free and open-source</a>.</p><p>Let&#x27;s take our <a href="#prisma-is-awesome">data model</a> and seed a
development <a href="https://hub.docker.com/_/mongo" target="_blank" rel="noopener noreferrer">mongoDB</a> database instance with <a href="https://getsynth.com" target="_blank" rel="noopener noreferrer">Synth</a>.
Then we can make our development cycle very short by using
an <a href="https://github.com/brokad/synth/tree/master/examples/message_board/helpers/db.js" target="_blank" rel="noopener noreferrer">npm script</a>
that sets it all up for us whenever we need it.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="installing-synth"></a>Installing <code>synth</code><a class="hash-link" href="#installing-synth" title="Direct link to heading">#</a></h3><p>We&#x27;ll need the <a href="/synth/getting_started/command-line"><code>synth</code></a> command-line tool to get started. From a
terminal, run:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-bash codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">curl</span><span class="token plain"> -sSL https://getsynth.com/install </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">sh</span></div></div></div><div class="buttonsBlock_1QLD"><button type="button" aria-label="Copy code to clipboard" class="codeButton_2n6w copyButton_1PCb">Copy</button></div></div></div><p>This will run you through an install script for the <a href="https://en.wikipedia.org/wiki/Executable" target="_blank" rel="noopener noreferrer">binary release</a>
of <a href="/synth/getting_started/command-line"><code>synth</code></a>. If you prefer installing from source, we got you: head
on over to the <a href="/synth/getting_started/installation">Installation</a>
pages of the official documentation.</p><p>Once the installer script is done, try running</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-bash codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ synth --version</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">synth </span><span class="token number" style="color:rgb(247, 140, 108)">0.5</span><span class="token plain">.4</span></div></div></div><div class="buttonsBlock_1QLD"><button type="button" aria-label="Copy code to clipboard" class="codeButton_2n6w copyButton_1PCb">Copy</button></div></div></div><p>to make sure everything works. If it doesn&#x27;t work, add <code>$HOME/.local/bin</code>
to your <code>$PATH</code> environment variable with</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-bash codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">export</span><span class="token plain"> </span><span class="token assign-left variable environment constant" style="color:rgb(130, 170, 255)">PATH</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token environment constant" style="color:rgb(130, 170, 255)">$HOME</span><span class="token plain">/.local/bin:</span><span class="token environment constant" style="color:rgb(130, 170, 255)">$PATH</span></div></div></div><div class="buttonsBlock_1QLD"><button type="button" aria-label="Copy code to clipboard" class="codeButton_2n6w copyButton_1PCb">Copy</button></div></div></div><p>and try again.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="synth-schema"></a>Synth schema<a class="hash-link" href="#synth-schema" title="Direct link to heading">#</a></h3><p>Just like <a href="https://www.prisma.io/" target="_blank" rel="noopener noreferrer">Prisma</a> and its schema DSL, <a href="/synth/getting_started/command-line"><code>synth</code></a> lets you
write down your data model with zero code.</p><p>There is one main difference: the <a href="/synth/getting_started/command-line"><code>synth</code></a> schema is aimed at the
generation of data. This means it lets you specify the semantics of your data
model in addition to its entities and relations. The <a href="/synth/getting_started/command-line"><code>synth</code></a> schema
has an understanding of what an email, a username, an address are; whereas the
Prisma schema only cares about top-level types (strings, integers, etc).</p><p>Let&#x27;s navigate to the top of our <a href="https://github.com/getsynth/synth/tree/master/examples/message_board" target="_blank" rel="noopener noreferrer">example project&#x27;s</a> directory
and create a new directory called <code>synth/</code> for storing our <a href="/synth/getting_started/command-line"><code>synth</code></a>
schema files.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-undefined codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ package.json</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ package-lock.json</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ tsconfig.json</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ prisma/</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ synth/</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â””â”€â”€ src/</span></div></div></div><div class="buttonsBlock_1QLD"><button type="button" aria-label="Copy code to clipboard" class="codeButton_2n6w copyButton_1PCb">Copy</button></div></div></div><p>Each file we will put in the <code>synth/</code> directory that ends in <code>.json</code> will be
opened by <a href="/synth/getting_started/command-line"><code>synth</code></a>, parsed and interpreted as part of our data
model. The structure of these files is simple: each one represents
a <a href="https://docs.mongodb.com/manual/core/databases-and-collections/" target="_blank" rel="noopener noreferrer">collection</a> in our database.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="collections"></a>Collections<a class="hash-link" href="#collections" title="Direct link to heading">#</a></h3><p>A collection is a single JSON schema file, stored in a namespace directory.
Because collections are formed of many elements, their <a href="https://getsynth.com" target="_blank" rel="noopener noreferrer">Synth</a> schema
type is that of <a href="/synth/content/array">arrays</a>.</p><p>To get started, let&#x27;s create a <code>User.json</code> file in the <code>synth/</code> directory:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-json codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;array&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;length&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;content&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;null&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><div class="buttonsBlock_1QLD"><button type="button" aria-label="Copy code to clipboard" class="codeButton_2n6w copyButton_1PCb">Copy</button><button type="button" aria-label="Run code with Synth" class="codeButton_2n6w runButton_3F96">Run</button></div></div></div><p>Then run</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-bash codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ synth generate synth/</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;users&quot;</span><span class="token plain">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><div class="buttonsBlock_1QLD"><button type="button" aria-label="Copy code to clipboard" class="codeButton_2n6w copyButton_1PCb">Copy</button></div></div></div><p>Let&#x27;s break this down. Our <code>User.json</code> collection schema is a JSON object with
three fields. The <code>&quot;type&quot;</code> represents the kind of generator we want. As we said
above, collections must generate arrays. The <code>&quot;length&quot;</code> and <code>&quot;content&quot;</code>
fields are the parameters we need to specify an <a href="/synth/content/array">array generator</a>.
The <code>&quot;length&quot;</code> field specifies how many elements the generated array must have.
The <code>&quot;content&quot;</code> specifies from what the elements of the array are generated.</p><p>For now the value of <code>&quot;content&quot;</code> is a generator of the <code>null</code> type. Which is why
our array has <code>null</code> as a single element. But we will soon change this.</p><p>Note that the value of <code>&quot;length&quot;</code> can be another generator. Of course, because
the length of an array is non-negative number, it cannot be just any generator.
But it can be any kind that will generate non-negative numbers. For example</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-json codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;array&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;length&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;range&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;low&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;high&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;step&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;content&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;null&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><div class="buttonsBlock_1QLD"><button type="button" aria-label="Copy code to clipboard" class="codeButton_2n6w copyButton_1PCb">Copy</button><button type="button" aria-label="Run code with Synth" class="codeButton_2n6w runButton_3F96">Run</button></div></div></div><p>This now makes our <code>users</code> collection variable length. Its length will be
decided by the result of generating a new random integer between 5 and 10.</p><p>If you now run</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-bash codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ synth generate synth/</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;users&quot;</span><span class="token plain">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">null,null,null,null,null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><div class="buttonsBlock_1QLD"><button type="button" aria-label="Copy code to clipboard" class="codeButton_2n6w copyButton_1PCb">Copy</button></div></div></div><p>you can see the result of that change.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>By default <code>synth</code> fixes the seed of its
internal <a href="https://en.wikipedia.org/wiki/Pseudorandom_number_generator" target="_blank" rel="noopener noreferrer">PRNG</a>. This means that, by default, running <code>synth</code> many times
on the same input schemas will give the same output data. If you want to
randomize the seed - and thus randomize the result, simply add the
flag <a href="/synth/getting_started/command-line"><code>--random</code></a>:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-bash codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ synth generate synth/ --random</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;users&quot;</span><span class="token plain">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">null,null,null,null,null,null,null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ synth generate synth/ --random</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;users&quot;</span><span class="token plain">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">null,null,null,null,null,null,null,null,null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><div class="buttonsBlock_1QLD"><button type="button" aria-label="Copy code to clipboard" class="codeButton_2n6w copyButton_1PCb">Copy</button></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="schema-nodes"></a>Schema nodes<a class="hash-link" href="#schema-nodes" title="Direct link to heading">#</a></h3><p>Before we can get our <code>users</code> collection to match
our <a href="#prisma-is-awesome"><code>User</code> Prisma model</a>, we need to understand how to
generate more kinds of data with <code>synth</code>.</p><p>Everything that goes into a schema file is a <a href="/synth/getting_started/schema">schema node</a>. Schema
nodes can be identified by the <code>&quot;type&quot;</code> field which specifies which kind of node
it is. The documentation pages have
a <a href="/synth/content/null">complete taxonomy of schema nodes</a> and their <code>&quot;type&quot;</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="generating-ids"></a>Generating ids<a class="hash-link" href="#generating-ids" title="Direct link to heading">#</a></h3><p>Let&#x27;s look back at our <a href="#prisma-is-awesome"><code>User</code> model</a>. It has four
properties:</p><ul><li><code>id</code></li><li><code>createdAt</code></li><li><code>email</code></li><li><code>nickname</code></li></ul><p>Let&#x27;s start with <code>id</code>. How can we generate that?</p><p>The type of the <code>id</code> property in the <a href="#prisma-is-awesome"><code>User</code> model</a>
is <code>Int</code>:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-graphql codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  id        Int      </span><span class="token directive function" style="color:rgb(130, 170, 255)">@unique</span><span class="token plain"> </span><span class="token directive function" style="color:rgb(130, 170, 255)">@default</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">autoincrement</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div><div class="buttonsBlock_1QLD"><button type="button" aria-label="Copy code to clipboard" class="codeButton_2n6w copyButton_1PCb">Copy</button></div></div></div><p>and the attribute indicates that the field is meant to increment sequentially,
going through values 0, 1, 2 etc.</p><p>The <code>synth</code> schema type for numbers is <a href="/synth/content/number"><code>number</code></a>.
Within <a href="/synth/content/number"><code>number</code></a> there are three varieties of generators:</p><ul><li><a href="/synth/content/number#range"><code>range</code></a></li><li><a href="/synth/content/number#constant"><code>constant</code></a></li><li><a href="/synth/content/number#id"><code>id</code></a></li></ul><p>What decides the variant is the presence of the <code>&quot;range&quot;</code>, <code>&quot;constant&quot;</code>or <code>&quot;id&quot;</code>
field in the node&#x27;s specification.</p><p>For example, a <a href="/synth/content/number#range"><code>range</code></a> variant would look like</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-json codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;range&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;low&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;high&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;step&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><div class="buttonsBlock_1QLD"><button type="button" aria-label="Copy code to clipboard" class="codeButton_2n6w copyButton_1PCb">Copy</button><button type="button" aria-label="Run code with Synth" class="codeButton_2n6w runButton_3F96">Run</button></div></div></div><p>whereas a <a href="/synth/content/number#constant"><code>constant</code></a> variant would look like</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-json codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;constant&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">42</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><div class="buttonsBlock_1QLD"><button type="button" aria-label="Copy code to clipboard" class="codeButton_2n6w copyButton_1PCb">Copy</button><button type="button" aria-label="Run code with Synth" class="codeButton_2n6w runButton_3F96">Run</button></div></div></div><p>For the <code>id</code> field we should use the <a href="/synth/content/number#id"><code>id</code></a> variant, which is
auto-incrementing. Here is an example of <a href="/synth/content/number#id"><code>id</code></a> used in an array so we
can see it behaves as expected:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-json codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;array&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;length&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;content&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;id&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><div class="buttonsBlock_1QLD"><button type="button" aria-label="Copy code to clipboard" class="codeButton_2n6w copyButton_1PCb">Copy</button><button type="button" aria-label="Run code with Synth" class="codeButton_2n6w runButton_3F96">Run</button></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="generating-emails"></a>Generating emails<a class="hash-link" href="#generating-emails" title="Direct link to heading">#</a></h3><p>Let us now look at the <a href="#prisma-is-awesome"><code>email</code></a> field of
our <a href="#prisma-is-awesome"><code>User</code> model</a>:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-graphql codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  email     String   </span><span class="token directive function" style="color:rgb(130, 170, 255)">@unique</span></div></div></div><div class="buttonsBlock_1QLD"><button type="button" aria-label="Copy code to clipboard" class="codeButton_2n6w copyButton_1PCb">Copy</button></div></div></div><p>Its type in the data model is that of a <code>String</code>. The <code>synth</code> schema type for
that is <a href="/synth/content/string"><code>string</code></a>.</p><p>There are many different variants of <a href="/synth/content/string"><code>string</code></a> and they are
all <a href="/synth/content/string">exhaustively documented</a>. The different variants are
identified by the presence of a distinguishing field which can be</p><ul><li><code>&quot;faker&quot;</code></li><li><code>&quot;pattern&quot;</code></li><li><code>&quot;uuid&quot;</code></li><li><a href="/synth/content/string">and a lot more</a>...</li></ul><p>Since we are interested in generating email addresses, we will be using
the <a href="/synth/content/string#faker"><code>&quot;faker&quot;</code></a> variant which leverages a preset collection of
generators for common properties like usernames, addresses and emails:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-json codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;string&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;faker&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;generator&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;safe_email&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><div class="buttonsBlock_1QLD"><button type="button" aria-label="Copy code to clipboard" class="codeButton_2n6w copyButton_1PCb">Copy</button><button type="button" aria-label="Run code with Synth" class="codeButton_2n6w runButton_3F96">Run</button></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="generating-objects"></a>Generating objects<a class="hash-link" href="#generating-objects" title="Direct link to heading">#</a></h3><p>OK, so we now know how to generate the <code>id</code> and the <code>email</code> properties of
our <a href="#prisma-is-awesome"><code>User</code> model</a>. But we do not yet know how to put them
together in one object. For that we need the <a href="/synth/content/object"><code>object</code></a> type:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-json codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;object&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;id&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;id&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;email&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;string&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;faker&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token property">&quot;generator&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;safe_email&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><div class="buttonsBlock_1QLD"><button type="button" aria-label="Copy code to clipboard" class="codeButton_2n6w copyButton_1PCb">Copy</button><button type="button" aria-label="Run code with Synth" class="codeButton_2n6w runButton_3F96">Run</button></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="leverage-the-docs"></a>Leverage the docs<a class="hash-link" href="#leverage-the-docs" title="Direct link to heading">#</a></h3><p>Now we have everything we need to finish writing down
our <a href="#prisma-is-awesome"><code>User</code> model</a> as a <code>synth</code> schema. A quick lookup of
the <a href="/synth/content/string#date_time">documentation pages</a> will tell us how to generate
the <code>createdAt</code> and <code>nickname</code> fields.</p><p>Here is the finished result for our <code>User.json</code> collection:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-json codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;array&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;length&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;content&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;object&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;id&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token property">&quot;id&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;createdAt&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;string&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token property">&quot;date_time&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token property">&quot;format&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;%Y-%m-%d %H:%M:%S&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token property">&quot;begin&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;2020-01-01 12:00:00&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;email&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;string&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token property">&quot;faker&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token property">&quot;generator&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;safe_email&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;nickname&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;string&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token property">&quot;faker&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token property">&quot;generator&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;username&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><div class="buttonsBlock_1QLD"><button type="button" aria-label="Copy code to clipboard" class="codeButton_2n6w copyButton_1PCb">Copy</button><button type="button" aria-label="Run code with Synth" class="codeButton_2n6w runButton_3F96">Run</button></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="making-sure-our-constraints-are-satisfied"></a>Making sure our constraints are satisfied<a class="hash-link" href="#making-sure-our-constraints-are-satisfied" title="Direct link to heading">#</a></h3><p>Looking back at the <a href="#prisma-is-awesome"><code>User</code> model</a> we started from, there&#x27;s
one thing that we did not quite address yet. The <code>email</code> field in the Prisma
schema has the <code>@unique</code> attribute:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-graphql codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  email     String   </span><span class="token directive function" style="color:rgb(130, 170, 255)">@unique</span></div></div></div><div class="buttonsBlock_1QLD"><button type="button" aria-label="Copy code to clipboard" class="codeButton_2n6w copyButton_1PCb">Copy</button></div></div></div><p>This means that, in our data model, no two users can share the same email
address. Yet, we haven&#x27;t added that constraint anywhere in
our <a href="#leverage-the-docs">final <code>synth</code> schema</a>
for the <code>User.json</code> collection.</p><p>What we need to use here is <a href="/synth/modifiers"><code>modifiers</code></a>. A modifier is an
attribute that we can add to any <code>synth</code> schema type to modify the way it
behaves. There are two modifiers currently supported:</p><ul><li><a href="/synth/modifiers#optional"><code>optional</code></a></li><li><a href="/synth/modifiers#unique"><code>unique</code></a></li></ul><p>The <a href="/synth/modifiers#optional"><code>optional</code></a> modifier is an easy way to make a schema node
randomly generate something or nothing:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-json codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;optional&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;constant&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">42</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><div class="buttonsBlock_1QLD"><button type="button" aria-label="Copy code to clipboard" class="codeButton_2n6w copyButton_1PCb">Copy</button><button type="button" aria-label="Run code with Synth" class="codeButton_2n6w runButton_3F96">Run</button></div></div></div><p>Whereas the <a href="/synth/modifiers#unique"><code>unique</code></a> modifier is an easy way to enforce the
constraint that the values generated have no duplication. So all we need to do,
to represent our data model correctly, is to add the <a href="/synth/modifiers#unique"><code>unique</code></a>
modifier to the <code>email</code> field:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-json codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;string&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;unique&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;faker&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;generator&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;safe_email&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><div class="buttonsBlock_1QLD"><button type="button" aria-label="Copy code to clipboard" class="codeButton_2n6w copyButton_1PCb">Copy</button><button type="button" aria-label="Run code with Synth" class="codeButton_2n6w runButton_3F96">Run</button></div></div></div><p>The completed end result for the <code>User.json</code>
collection <a href="https://github.com/getsynth/synth/tree/master/examples/message_board/synth/User.json" target="_blank" rel="noopener noreferrer">can be viewed on GitHub here</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-to-deal-with-relations"></a>How to deal with relations<a class="hash-link" href="#how-to-deal-with-relations" title="Direct link to heading">#</a></h3><p>Now that we have set up our <code>User.json</code> collection, let&#x27;s turn our attention to
the <a href="#prisma-is-awesome"><code>Post</code> model</a> and write out the <code>synth</code> schema for
the <code>Post.json</code> collection.</p><p>Here is the end result:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-json codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;array&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;length&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;content&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;object&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;id&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;id&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;postedAt&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;string&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;date_time&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;format&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;%Y-%m-%d %H:%M:%S&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;begin&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;2020-01-01 12:00:00&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;title&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;string&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;faker&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;generator&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;bs&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;authorId&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;@User.content.id&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><div class="buttonsBlock_1QLD"><button type="button" aria-label="Copy code to clipboard" class="codeButton_2n6w copyButton_1PCb">Copy</button></div></div></div><p>It all looks pretty similar to the <code>User.json</code> collection, except for one
important difference at the line</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-json codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;authorId&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;@User.content.id&quot;</span></div></div></div><div class="buttonsBlock_1QLD"><button type="button" aria-label="Copy code to clipboard" class="codeButton_2n6w copyButton_1PCb">Copy</button></div></div></div><p>The syntax <code>@...</code> is <code>synth</code>&#x27;s way of
specifying <a href="/synth/content/same-as">relations between collections</a>. Here we are creating
a <a href="https://www.prisma.io/docs/concepts/components/prisma-schema/relations/one-to-many-relations" target="_blank" rel="noopener noreferrer">many-to-1</a> relation between the field <code>authorId</code>
of the <code>Post.json</code> collection and the field <code>id</code> of the <code>User.json</code>
collection.</p><p>The final <code>Post.json</code> collection
schema <a href="https://github.com/getsynth/synth/tree/master/examples/message_board/synth/Post.json" target="_blank" rel="noopener noreferrer">can be viewed on GitHub here</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="synth-generate"></a>Synth generate<a class="hash-link" href="#synth-generate" title="Direct link to heading">#</a></h3><p>Now that our data model is implemented in <a href="/synth/getting_started/schema">Synth</a>, we&#x27;re ready to
seed our test database with mock data. Here we&#x27;ll use
the <a href="https://hub.docker.com/_/mongo" target="_blank" rel="noopener noreferrer">offical mongo Docker image</a>, but if you are using a
relational database like <a href="https://hub.docker.com/_/postgres" target="_blank" rel="noopener noreferrer">Postgres</a>
or <a href="https://hub.docker.com/_/mysql" target="_blank" rel="noopener noreferrer">MySQL</a>, you can follow the same process.</p><p>To start the mongo image in the background (if you haven&#x27;t done so already), run</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-bash codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ docker run -d -it -p </span><span class="token number" style="color:rgb(247, 140, 108)">27017</span><span class="token plain">:27017 --rm mongo</span></div></div></div><div class="buttonsBlock_1QLD"><button type="button" aria-label="Copy code to clipboard" class="codeButton_2n6w copyButton_1PCb">Copy</button></div></div></div><p>Then, to seed the database with <code>synth</code> just run</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-bash codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ synth generate synth/ --size </span><span class="token number" style="color:rgb(247, 140, 108)">1000</span><span class="token plain"> --to mongodb://localhost:27017/board</span></div></div></div><div class="buttonsBlock_1QLD"><button type="button" aria-label="Copy code to clipboard" class="codeButton_2n6w copyButton_1PCb">Copy</button></div></div></div><p>That&#x27;s it! Our test mongo instance is now seeded with the data of around 100
users. <a href="https://github.com/getsynth/synth/tree/master/examples/message_board" target="_blank" rel="noopener noreferrer">Head over to the examples repository</a> to see the complete
working example.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="whats-next"></a>What&#x27;s next<a class="hash-link" href="#whats-next" title="Direct link to heading">#</a></h2><p><a href="https://getsynth.com" target="_blank" rel="noopener noreferrer">Synth</a> is completely free and built in the open by
an <a href="https://github.com/getsynth/synth#contributors-" target="_blank" rel="noopener noreferrer">amazing and fast growing community of contributors</a>.</p><p><a href="https://twitter.com/getsynth" target="_blank" rel="noopener noreferrer">Join us in our mission</a> to make test data easy and painless! We
also have a very <a href="https://discord.com/invite/H33rRDTm3p" target="_blank" rel="noopener noreferrer">active Discord server</a> where many members of the
community would be happy to help if you encounter an issue!</p></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/synth/blog/tags/postgres">postgres</a><a class="margin-horiz--sm" href="/synth/blog/tags/test-data">test data</a><a class="margin-horiz--sm" href="/synth/blog/tags/data-generation">data generation</a><a class="margin-horiz--sm" href="/synth/blog/tags/tutorial">tutorial</a><a class="margin-horiz--sm" href="/synth/blog/tags/beginners-guide">beginners guide</a><a class="margin-horiz--sm" href="/synth/blog/tags/seeding">seeding</a><a class="margin-horiz--sm" href="/synth/blog/tags/prisma">prisma</a><a class="margin-horiz--sm" href="/synth/blog/tags/schema">schema</a><a class="margin-horiz--sm" href="/synth/blog/tags/data-model">data model</a><a class="margin-horiz--sm" href="/synth/blog/tags/orm">orm</a></div><div class="col text--right"><a aria-label="Read more about Seeding test databases in 2021 - best practices" href="/synth/blog/2021/08/31/seeding-databases-tutorial"><strong>Read More</strong></a></div></footer></article></div></main></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/synth/getting_started/synth">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/synth/examples/bank">Examples</a></li><li class="footer__item"><a class="footer__link-item" href="/synth/content/null">Generators</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 OpenQuery.</div></div></div></footer></div>
<script src="/synth/styles.757b73be.js"></script>
<script src="/synth/runtime~main.b7cf6161.js"></script>
<script src="/synth/main.7611f22a.js"></script>
<script src="/synth/1.3bd11b34.js"></script>
<script src="/synth/2.26018857.js"></script>
<script src="/synth/3.64a93aa7.js"></script>
<script src="/synth/01a85c17.057161ab.js"></script>
<script src="/synth/71.5f3e08c3.js"></script>
<script src="/synth/6875c492.d1024bee.js"></script>
<script src="/synth/a6aa9e1f.91051dea.js"></script>
<script src="/synth/b4f94a6c.58d22c3c.js"></script>
<script src="/synth/ccc49370.7e7f58ec.js"></script>
<script src="/synth/5992cf76.87098209.js"></script>
<script src="/synth/b31acb9c.542cb80f.js"></script>
<script src="/synth/3746ec97.7842893a.js"></script>
<script>window.Papercups={config:{accountId:"41ff5b3d-e2c2-42ed-bed3-ef7a6c0dde62",baseUrl:"https://app.papercups.io",greeting:"",newMessagePlaceholder:"Start typing...",primaryColor:"#00dab8",requireEmailUpfront:!1,showAgentAvailability:!1,subtitle:"Ask us anything in the chat window below ðŸ˜Š",title:"Welcome to Synth"}}</script>
<style>
              @media (max-width: 996px) {
                .Papercups-toggleButtonContainer {
                  bottom: 80px;
                }

                .Papercups-chatWindowContainer {
                  bottom: 160px;
                }
              }
            </style>
<script async defer="defer" src="https://app.papercups.io/widget.js"></script></body>
</html>